<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>POS V7</title>
<style>
body{font-family:Arial;margin:20px;}
input,button{padding:10px;margin:5px;}
#video{width:100%;max-width:350px;background:#000;}
</style>
</head>
<body>
<h2>POS V7 (Basic Working Template)</h2>

<label>Product Name:</label><br>
<input id="pname" placeholder="Enter product name"><br>

<label>Cost (Puhunan):</label><br>
<input id="cost" type="number" placeholder="0"><br>

<label>Markup %:</label><br>
<input id="markup" type="number" placeholder="Enter %"><br>

<button onclick="calc()">Calculate Price</button>

<h3>Selling Price: <span id="price">₱0</span></h3>

<hr>

<h3>Barcode Scanner</h3>
<video id="video" autoplay></video><br>
<button onclick="startScan()">Start</button>
<button onclick="stopScan()">Stop</button>

<p>Detected: <span id="det">None</span></p>

<script>
// Price calculator
function calc(){
  let c=parseFloat(cost.value)||0;
  let m=parseFloat(markup.value)||0;
  let sp=c + (c*(m/100));
  price.innerText="₱"+sp.toFixed(2);
}

// Camera / scanner basic
let stream;
async function startScan(){
  try{
    stream = await navigator.mediaDevices.getUserMedia({video:true});
    video.srcObject = stream;
  }catch(e){
    alert("Camera error: "+e);
  }
}
function stopScan(){
  if(stream){
    let tracks = stream.getTracks();
    tracks.forEach(t=>t.stop());
  }
}
</script>

</body>
</html>
